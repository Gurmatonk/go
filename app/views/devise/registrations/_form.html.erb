<% form_method =
  case action
  when :new then :post
  when :edit then :put
  end
%>
<%= bootstrap_form_for resource, as: resource_name, url: registration_path(resource_name), method: form_method, label_col: 'col-md-2', control_col: 'col-md-10' do |f| %>
  <%= devise_error_messages! %>
  <div class="row">
    <div class="col-md-6">
      <fieldset>
        <legend>Login data</legend>
        <%= f.email_field :email, autofocus: true %>
        <%= f.password_field :password %>
        <%= f.password_field :password_confirmation %>
        <div class="form-group hidden">
          <label class="control-label">Password strength</label>
          <%= tag :div, name: :password_strength, class: 'form-control-static alert alert-danger', 'data-strength_hint' => t_view(:strength_hint, [:javascript, :password]), 'data-mismatch_hint' => t_view(:mismatch_hint, [:javascript, :password]), 'data-success_hint' => t_view(:success_hint, [:javascript, :password]) %>
        </div>
      </fieldset>
    </div>
    <div class="col-md-6">
      <fieldset>
        <legend>Account data</legend>
        <%= f.text_field :name %>
        <%= render partial: 'shared/address_inputs', locals: {form: f} %>
      </fieldset>
    </div>
  </div>
  <%= f.form_group do %>
    <%= f.primary 'Sign up' %>
  <% end %>
<% end %>
